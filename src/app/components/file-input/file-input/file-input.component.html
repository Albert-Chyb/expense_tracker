<label class="file-input__label">
	<input
		class="file-input__input"
		type="file"
		(change)="handleInputChange($event)"
	/>
</label>

<!-- Template when a file is present. -->
<ng-container *ngIf="hasFile; else noFile">
	<div class="file-input__actions">
		<button
			(click)="onRemove.emit()"
			appButton
			btnType="icon"
			class="file-input__action"
		>
			<i class="far fa-trash-alt"></i>
		</button>
	</div>

	<img
		[src]="needsPreview ? preview : sanitize(base64)"
		class="file-input__preview"
		[class.file-input__preview--with-external-preview]="
			needsPreview && !isLoading
		"
	/>
</ng-container>

<!-- Template when a file is not present. -->
<ng-template #noFile>
	<!-- TODO: Once a new loader is made, replace this text with it. -->

	<div *ngIf="isLoading; else duringLoading" class="file-input__loader">
		Pobieranie ...
	</div>

	<ng-template #duringLoading>
		<span *ngIf="!isLoading" class="file-input__add-icon">
			<i class="far fa-plus-square"></i>
		</span>
	</ng-template>
</ng-template>
